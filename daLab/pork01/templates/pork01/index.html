{% extends 'pork01/base.html' %}

{% block myBody %}
	<!-- { if all_products } -->
	<!-- #"return Products.objects.all()"" in views.py returns an object called "object_list".
 			ListView returns object_list by defualt -->
	{% if object_list %}
		<h1>List of Products</h1>
		<div>
				{% for prod in object_list %}
				<div>
					<!-- Details -->
	<!--				<li><a href="{% url 'pork01:product_detail' prod.prod_code_supplier %}">{{ prod.item_supplier }}</a></li> -->
					<a href="{% url 'pork01:product_detail' prod.prod_code_supplier %}" class="btn btn-primary btn-sm">{{ prod.item_supplier }}</a>

					<!-- Update -->
					<form action="{% url 'pork01:product-update' prod.prod_code_supplier %}" method="post" style="display: inline;">
						{% csrf_token %}
						<input type="hidden" name="prod.prod_code_supplier" value="{{ prod.prod_code_supplier }}"/>
						<button type="submit" class="btn btn-default btn-sm">
							<span class="glyphicon glyphicon-pencil"></span>
						</button>
					</form>

					<!-- Delete -->
					<form action="#" method="post" style="display: inline;">
						{% csrf_token %}
						<input type="hidden" name="prod.prod_code_supplier" value="{{ prod.prod_code_supplier }}"/>
						<button type="submit" class="btn btn-default btn-sm">
							<span class="glyphicon glyphicon-trash"></span>
						</button>
					</form>

				</div>
				{% endfor %}
			</div>
	{% else %}
		<h3>No products in the database</h3>
	{% endif %}
{% endblock %}
